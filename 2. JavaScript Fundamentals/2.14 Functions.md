# [Functions](https://javascript.info/function-basics)

## Function Declaration

To create a function we can use a function declaration.

It looks like this:

	function showMessage() {
	  alert( 'Hello everyone!' );
	}

### Features
1. Avoid Code Duplication

## Local variables
A variable declared inside a function is only visible inside that function.

	function showMessage() {
	  let message = "Hello, I'm JavaScript!"; // local variable

	  alert( message );
	}

	showMessage(); // Hello, I'm JavaScript!

	alert( message ); // <-- Error! The variable is local to the function

## Outer variables
A function can access an outer variable as well, for example:

	let userName = 'John';

	function showMessage() {
	  let message = 'Hello, ' + userName;
	  alert(message);
	}

	showMessage(); // Hello, John

The function has full access to the outer variable. `It can modify it as well.`

For instance:

	let userName = 'John';

	function showMessage() {
	  userName = "Bob"; // (1) changed the outer variable

	  let message = 'Hello, ' + userName;
	  alert(message);
	}

	alert( userName ); // John before the function call

	showMessage();

	alert( userName ); // Bob, the value was modified by the function

The outer variable is only used if there’s no local one. So an occasional modification may happen if we forget let.

If a same-named variable is declared inside the function then it shadows the outer one. For instance, in the code below the function uses the local userName. The outer one is ignored:

	let userName = 'John';

	function showMessage() {
	  let userName = "Bob"; // declare a local variable

	  let message = 'Hello, ' + userName; // Bob
	  alert(message);
	}

	// the function will create and use its own userName
	showMessage();

	alert( userName ); // John, unchanged, the function did not access the outer variable

`Global variables`

Variables declared outside of any function, such as the outer `userName` in the code above, are called global.

Global variables are visible from any function (unless shadowed by locals).

Usually, a function declares all variables specific to its task. Global variables only store project-level data, so when it’s important that these variables are accesible from anywhere. `Modern code has few or no globals`. Most variables reside in their functions.


## [Parameters](https://javascript.info/function-basics#parameters)

We can pass arbitrary data to functions using parameters (also called `function arguments`) .

Here’s one more example: we have a variable from and pass it to the function. Please note: the function changes from, but the change is not seen outside, because a function always gets a copy of the value:


	function showMessage(`from`, text) {

	  `from` = '*' + from + '*'; // make "from" look nicer

	  alert( `from` + ': ' + text );//from is local copy
	}

	let from = "Ann";

	showMessage(from, "Hello"); // *Ann*: Hello

	// the value of "from" is the same, the function modified a local copy
	alert( from ); // Ann


## [Default values](https://javascript.info/function-basics#default-values)

If a parameter is not provided, then its value becomes undefined.

For instance, the aforementioned function showMessage(from, text) can be called with a single argument:

	showMessage("Ann");

That’s not an error. Such a call would output "Ann: undefined". There’s no text, so it’s assumed that text === undefined.

If we want to use a “default” text in this case, then we can specify it after =:

	function showMessage(from, text = "no text given") {
	  alert( from + ": " + text );
	}

	showMessage("Ann"); // Ann: no text given

Now if the text parameter is not passed, it will get the value "no text given"

Here "no text given" is a string, but it can be a more complex expression, which is only evaluated and assigned if the parameter is missing. So, this is also possible:

	function showMessage(from, text = anotherFunction()) {
	  // anotherFunction() only executed if no text given
	  // its result becomes the value of text
	}


## Default parameters old-style

Old editions of JavaScript did not support default parameters. So there are alternative ways to support them, that you can find mostly in the old scripts.

For instance, an explicit check for being undefined:


	function showMessage(from, text) {
	  if (text === undefined) {
	    text = 'no text given';
	  }

	  alert( from + ": " + text );
	}

…Or the || operator:

	function showMessage(from, text) {
	  // if text is falsy then text gets the "default" value
	  text = text || 'no text given';
	  ...
	}

## [Returning a value](https://javascript.info/function-basics#returning-a-value)

